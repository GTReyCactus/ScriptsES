var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

//script by Sophie "Shinko to Kuma". Skype: live:sophiekitsune discord: Sophie#2418 website: https://shinko-to-kuma.my-free.website/
// Updated on April 12th for patch 8.205
var _0x3848=['points','Too\x20much\x20clay\x20incoming\x20in\x20','message','remove','\x27\x20class=\x27sophRowB\x27',':button[id^=\x22building\x22]','SuccessMessage','Premium\x20Exchange','previousElementSibling','target','<div\x20id=\x27totals\x27\x20class=\x27vis\x27\x20border=0><table\x20id=\x27totalsAndAverages\x27\x20width=\x27100%\x27><tr><td>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22sophHeader\x22\x20width=\x2225%\x22\x20style=\x22text-align:center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Iron:\x20','source','append','needsMorePercentage','lowPoints','distance','Total\x20wood','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20width=\x2250\x22\x20style=\x22text-align:center\x22>','text','get','Hout','prepend','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22sophHeader\x22\x20width=\x2210%\x22\x20style=\x22text-align:center\x22>','Total\x20clay','map_send','Distance','Managed\x20to\x20grab\x20the\x20page','.res.mwood,.warn_90.mwood,.warn.mwood','Clay','Send\x20resources','.res.stone,.warn_90.stone,.warn.stone','Iron','Warehouse\x20balancer','Leem','match','game.php?t=','&screen=overview_villages&mode=trader&type=inc&page=-1&type=inc','<span\x20class=\x22icon\x20header\x20iron\x22>\x20</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:center\x22><input\x20type=\x22button\x22\x20class=\x22btn\x20evt-confirm-btn\x20btn-confirm-yes\x22\x20id=\x22building\x22\x20value=\x22','.header.population','Source\x20village','Verstuur\x20grondstoffen','Σύνολο\x20σιδήρου','\x27\x20class=\x27sophRowA\x27','market','Πηλός\x20ανα\x20χωριό','Σίδερο\x20ανα\x20χωριό','game.php?&screen=overview_villages&mode=prod&page=-1&',',\x20adjusting\x20what\x20we\x20leave\x20at\x20home\x20to\x20be\x20','\x22\x20onclick=\x22sendResource(','Leem\x20per\x20dorp','Δημιουργήθηκε\x20από\x20την\x20Sophie\x20\x27Shinko\x20to\x20Kuma\x27','innerText','player','#production_table\x20th','\x20</a></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x20<a\x20href=\x22','push','Wood\x20per\x20village','System','\x20id=\x27','\x22\x20style=\x22color:#40D0E0;\x22\x20>','iron','Average\x20is\x20higher\x20than\x20capacity,\x20reduce','Farm\x20almost\x20full\x20(','Πηλός','Incoming\x20resources:\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Wood:\x20','<span\x20class=\x22icon\x20header\x20stone\x22>\x20</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20width=\x2250\x22\x20style=\x22text-align:center\x22>','css','Ijzer\x20per\x20dorp','locale','Latest\x20update:\x2003\x20April\x202020\x20-\x20Sophie\x20\x27Shinko\x20to\x20Kuma\x27','hypot',':button,#building','attr','Totaal\x20ijzer','#36393f','mobile','</td></tr></table>','post','desktop','.quickedit-vn','round','Woodadjustement:\x20','&#10;Warehouse\x20capacity:\x20','en_DK',',\x20ironadjustement:\x20','Oorsprong','&#10;Iron\x20in\x20WH:\x20','Totaal\x20leem','.res.miron,.warn_90.miron,.warn.miron','Clay\x20per\x20village','Afstand','.res.iron,.warn_90.iron,.warn.iron','Χωριό\x20στόχος','innerHTML','Warenhuis\x20balancer','&screen=overview_villages&mode=prod&page=-1&','prop','width','parentElement','.res.wood,.warn_90.wood,.warn.wood','Total\x20iron','stone',')\x20in\x20','done','sitter','game.php?&screen=overview_villages&mode=trader&type=inc&page=-1&type=inc','availableMerchants','Ξύλο\x20ανα\x20χωριό','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Max\x20final\x20capacity:\x20','Σίδερο','builtOutPercentage','#sendResources','length','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22progressbar\x22\x20style=\x22width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#36393f;\x22><div\x20id=\x22progress\x22\x20style=\x22width:\x200%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x2035px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#4CAF50;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x2032px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20black;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</a>\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20width=\x2250\x22\x20style=\x22text-align:center\x22>','trim','disabled','.res.mstone,.warn_90.mstone,.warn.mstone','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Clay:\x20','.icon.mheader','\x20height=\x2240\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><a\x20href=\x22','url','</td><td>','error','</font>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Village:\x20','split','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20','villageID','Wood','removed\x20empty\x20lines','find',',\x20clayadjustement:\x20','Iron\x20per\x20village','Done\x20with\x20this\x20cycle','\x0a<style>\x0a.sophRowA\x20{\x0abackground-color:\x20#32353b;\x0acolor:\x20white;\x0a}\x0a.sophRowB\x20{\x0abackground-color:\x20#36393f;\x0acolor:\x20white;\x0a}\x0a.sophHeader\x20{\x0abackground-color:\x20#202225;\x0afont-weight:\x20bold;\x0acolor:\x20white;\x0a}\x0a</style>','Too\x20much\x20wood\x20incoming\x20in\x20','name','Ijzer','log','undefined','#totals','replace','Reached\x20list\x20creation','floor','Captcha\x20was\x20triggered!\x20refreshing\x20page.','class','focus','Grabbed\x20transport\x20page','Σύνολο\x20πηλού','reload','Αποστολή\x20πόρων','</td></tr><tr><td>','Doel','Filled\x20up\x20the\x20sendings','Απόσταση','wood','Σύνολο\x20ξύλου','nextElementSibling','#progress','children','farmSpaceUsed','#mobileHeader','textContent','Excess\x20is\x20bigger\x20than\x20current\x20available\x20resources,\x20setting\x20it\x20to\x20current\x20available','keys','#contentContainer','%\x20of\x20WH\x20capacity','sort','Creating\x20line\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Warehouse\x20capacity:\x20','#appendHere','location','a[href*=\x22market\x22]','Target\x20village','#ffffdf','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22sophHeader\x22\x20width=\x225%\x22\x20style=\x22text-align:center\x22>','href','#trades_table\x20tr','Finished','Created\x20by\x20Sophie\x20\x27Shinko\x20to\x20Kuma\x27','highFarm','fail','of\x20the\x20list','999',')\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>','warehouseCapacity'];(function(_0x1ddd91,_0x384810){var _0x100247=function(_0x83e86f){while(--_0x83e86f){_0x1ddd91['push'](_0x1ddd91['shift']());}};_0x100247(++_0x384810);}(_0x3848,0xe1));var _0x1002=function(_0x1ddd91,_0x384810){_0x1ddd91=_0x1ddd91-0x0;var _0x100247=_0x3848[_0x1ddd91];return _0x100247;};_0xa24fa4:console[_0x1002('0x69')](_0x1002('0x23'));var warehouseCapacity=[];var allWoodTotals=[];var allClayTotals=[];var allIronTotals=[];var availableMerchants=[];var totalMerchants=[];var farmSpaceUsed=[];var farmSpaceTotal=[];var villagePoints=[];var villagesData=[];var villageID=[];var allWoodObjects,allClayObjects,allIronObjects,allVillages;var totalsAndAverages='';var incomingRes={};var totalWood,totalStone,totalIron;var merchantOrders=[];var excessResources=[];var shortageResources=[];var links=[];var cleanLinks=[];var langShinko=[_0x1002('0xbb'),'Source\x20village',_0x1002('0x8c'),_0x1002('0xb4'),_0x1002('0x5f'),_0x1002('0xb7'),_0x1002('0xba'),'Send\x20resources',_0x1002('0x92'),_0x1002('0xab'),_0x1002('0xb2'),'Total\x20iron',_0x1002('0x16'),_0x1002('0x37'),'Iron\x20per\x20village'];if(game_data['locale']==_0x1002('0x31')){langShinko=[_0x1002('0xbb'),_0x1002('0x5'),_0x1002('0x8c'),'Distance',_0x1002('0x5f'),'Clay',_0x1002('0xba'),_0x1002('0xb8'),'Created\x20by\x20Sophie\x20\x27Shinko\x20to\x20Kuma\x27','Total\x20wood',_0x1002('0xb2'),_0x1002('0x42'),_0x1002('0x16'),_0x1002('0x37'),_0x1002('0x63')];}if(game_data[_0x1002('0x22')]=='el_GR'){langShinko=[_0x1002('0xbb'),'Προέλευση',_0x1002('0x3a'),_0x1002('0x79'),'Ξύλο',_0x1002('0x1d'),_0x1002('0x4b'),_0x1002('0x75'),_0x1002('0x10'),_0x1002('0x7b'),_0x1002('0x73'),_0x1002('0x7'),_0x1002('0x49'),_0x1002('0xa'),_0x1002('0xb')];}if(game_data[_0x1002('0x22')]=='nl_NL'){langShinko=[_0x1002('0x3c'),_0x1002('0x33'),_0x1002('0x77'),_0x1002('0x38'),_0x1002('0xaf'),_0x1002('0xbc'),_0x1002('0x68'),_0x1002('0x6'),'Gemaakt\x20door\x20Sophie\x20\x27Shinko\x20to\x20Kuma\x27','Totaal\x20hout',_0x1002('0x35'),_0x1002('0x27'),'Hout\x20per\x20dorp',_0x1002('0xf'),_0x1002('0x21')];}var backgroundColor=_0x1002('0x28');var borderColor='#3e4147';var headerColor='#202225';var titleColor=_0x1002('0x8d');cssClassesSophie=_0x1002('0x65');$(_0x1002('0x84'))['eq'](0x0)[_0x1002('0xb0')](cssClassesSophie);$(_0x1002('0x80'))['eq'](0x0)[_0x1002('0xb0')](cssClassesSophie);if(typeof settings==_0x1002('0x6a')){var settings={'highFarm':0x59d8,'lowPoints':0xbb8,'builtOutPercentage':0.25,'needsMorePercentage':0.85};}if($(_0x1002('0x4d'))[0x0]){$(_0x1002('0x4d'))[0x0]['remove']();$(_0x1002('0x6b'))[0x0][_0x1002('0x9c')]();}if(game_data[_0x1002('0x12')][_0x1002('0x46')]>0x0){URLIncRes=_0x1002('0x1')+game_data['player']['id']+_0x1002('0x2');URLProd=_0x1002('0x1')+game_data[_0x1002('0x12')]['id']+_0x1002('0x3d');}else{URLIncRes=_0x1002('0x47');URLProd=_0x1002('0xc');}function sendResource(_0x152655,_0x534cb7,_0x51649d,_0x123e39,_0x57d682,_0x2607be){if($('#recaptcha-anchor-label')[_0x1002('0x4e')]>0x0){alert(_0x1002('0x6f'));window[_0x1002('0x8a')][_0x1002('0x74')]();}$(_0x1002('0x9e'))[_0x1002('0x3e')](_0x1002('0x52'),!![]);setTimeout(function(){$('#'+_0x2607be)[0x0][_0x1002('0x9c')]();$(_0x1002('0x9e'))[_0x1002('0x3e')]('disabled',![]);$(_0x1002('0x25'))[0x0][_0x1002('0x71')]();},0xc8);var _0x55a17e={'target_id':_0x534cb7,'wood':_0x51649d,'stone':_0x123e39,'iron':_0x57d682};TribalWars[_0x1002('0x2b')](_0x1002('0x9'),{'ajaxaction':_0x1002('0xb3'),'village':_0x152655},_0x55a17e,function(_0x224faf){UI[_0x1002('0x9f')](_0x224faf[_0x1002('0x9b')]);console['log'](_0x224faf[_0x1002('0x9b')]);},!0x1);}$[_0x1002('0xae')](URLIncRes,function(){console[_0x1002('0x69')](_0x1002('0x72'));})[_0x1002('0x45')](function(_0x4c163e){var _0x1a7fa1=$(_0x4c163e);for(var _0x1c6cf8=0x1;_0x1c6cf8<_0x1a7fa1[_0x1002('0x61')]('#trades_table\x20tr')[_0x1002('0x4e')]-0x1;_0x1c6cf8++){var _0x584c83={};var _0x4699ba;if($(_0x1002('0x80'))[0x0]){console[_0x1002('0x69')](_0x1002('0x29'));var _0x466d86=_0x1a7fa1['find']('#trades_table\x20tr')[_0x1c6cf8][_0x1002('0x7e')][0x5][_0x1002('0x7e')][0x1][_0x1002('0x7e')];for(var _0x1ac050=0x0;_0x1ac050<Object[_0x1002('0x83')](_0x466d86)[_0x1002('0x4e')];_0x1ac050++){if(_0x1a7fa1['find'](_0x1002('0x90'))[0x1]['children'][0x2][_0x1002('0x11')]!=_0x1002('0x17')){var _0xff2589=$(_0x466d86[_0x1ac050]);var _0x180670=_0xff2589[_0x1002('0x61')](_0x1002('0x55'))['attr'](_0x1002('0x70'))[_0x1002('0x5c')]('\x20');var _0x461f8b=_0x180670[_0x180670[_0x1002('0x4e')]-0x1];var _0x15fe5f=_0xff2589[_0x1002('0xad')]()[_0x1002('0x6c')](/[^\d]/g,'');_0x584c83[_0x461f8b]=_0x15fe5f;_0x4699ba=_0x1a7fa1[_0x1002('0x61')](_0x1002('0x90'))[_0x1c6cf8][_0x1002('0x7e')][0x3]['children'][0x2][_0x1002('0x8f')][_0x1002('0x0')](/id=(\d*)/)[0x1];}}}else{console[_0x1002('0x69')](_0x1002('0x2c'));var _0x466d86=_0x1a7fa1[_0x1002('0x61')]('#trades_table\x20tr')[_0x1c6cf8]['children'][0x8][_0x1002('0x7e')];console[_0x1002('0x69')](Object[_0x1002('0x83')](_0x466d86)[_0x1002('0x4e')]);for(var _0x1ac050=0x0;_0x1ac050<Object[_0x1002('0x83')](_0x466d86)[_0x1002('0x4e')];_0x1ac050++){var _0xff2589=$(_0x466d86[_0x1ac050]);if(_0xff2589[0x0][_0x1002('0x3b')]['indexOf']('header')>-0x1){var _0x180670=_0xff2589[_0x1002('0x61')]('.icon.header')[_0x1002('0x26')](_0x1002('0x70'))[_0x1002('0x5c')]('\x20');}else{var _0x180670=_0xff2589[_0x1002('0x26')](_0x1002('0x70'))[_0x1002('0x5c')]('\x20');}if(_0x1a7fa1['find'](_0x1002('0x90'))[0x1][_0x1002('0x7e')][0x3][_0x1002('0x11')]!='Premium\x20Exchange'){var _0x461f8b=_0x180670[_0x180670[_0x1002('0x4e')]-0x1];console[_0x1002('0x69')](_0x461f8b);var _0x15fe5f=_0xff2589[_0x1002('0xad')]()[_0x1002('0x6c')](/[^\d]/g,'');console[_0x1002('0x69')](_0x15fe5f);_0x584c83[_0x461f8b]=_0x15fe5f;_0x4699ba=_0x1a7fa1['find'](_0x1002('0x90'))[_0x1c6cf8][_0x1002('0x7e')][0x4]['children'][0x0][_0x1002('0x8f')][_0x1002('0x0')](/id=(\d*)/)[0x1];}}}if(_0x1a7fa1[_0x1002('0x61')](_0x1002('0x90'))[0x1]['children'][0x3][_0x1002('0x11')]!=_0x1002('0xa0')&&_0x1a7fa1[_0x1002('0x61')](_0x1002('0x90'))[0x1]['children'][0x2]['innerText']!='System'){if(incomingRes[_0x4699ba]==undefined){incomingRes[_0x4699ba]={'wood':0x0,'stone':0x0,'iron':0x0};}if(_0x584c83['wood']!=undefined){incomingRes[_0x4699ba]['wood']+=parseInt(_0x584c83['wood']);}if(_0x584c83[_0x1002('0x43')]!=undefined){incomingRes[_0x4699ba][_0x1002('0x43')]+=parseInt(_0x584c83[_0x1002('0x43')]);}if(_0x584c83['iron']!=undefined){incomingRes[_0x4699ba][_0x1002('0x1a')]+=parseInt(_0x584c83[_0x1002('0x1a')]);}}}$['get'](URLProd,function(){console['log'](_0x1002('0xb5'));})[_0x1002('0x45')](function(_0x5865fb){if($('#mobileHeader')[0x0]){console['log'](_0x1002('0x29'));allWoodObjects=$(_0x5865fb)[_0x1002('0x61')](_0x1002('0xb6'));allClayObjects=$(_0x5865fb)['find'](_0x1002('0x53'));allIronObjects=$(_0x5865fb)['find'](_0x1002('0x36'));allWarehouses=$(_0x5865fb)[_0x1002('0x61')]('.mheader.ressources');allVillages=$(_0x5865fb)[_0x1002('0x61')](_0x1002('0x2d'));allFarms=$(_0x5865fb)[_0x1002('0x61')](_0x1002('0x4'));allMerchants=$(_0x5865fb)[_0x1002('0x61')](_0x1002('0x8b'));productionTable=$(_0x5865fb)['find'](_0x1002('0x13'));for(var _0x92ac86=0x0;_0x92ac86<allWoodObjects['length'];_0x92ac86++){n=allWoodObjects[_0x92ac86][_0x1002('0x81')];n=n['replace'](/\./g,'')[_0x1002('0x6c')](',','');allWoodTotals[_0x1002('0x15')](n);};for(var _0x92ac86=0x0;_0x92ac86<allClayObjects['length'];_0x92ac86++){n=allClayObjects[_0x92ac86][_0x1002('0x81')];n=n['replace'](/\./g,'')[_0x1002('0x6c')](',','');allClayTotals['push'](n);};for(var _0x92ac86=0x0;_0x92ac86<allIronObjects['length'];_0x92ac86++){n=allIronObjects[_0x92ac86][_0x1002('0x81')];n=n[_0x1002('0x6c')](/\./g,'')[_0x1002('0x6c')](',','');allIronTotals[_0x1002('0x15')](n);};for(var _0x92ac86=0x0;_0x92ac86<allVillages[_0x1002('0x4e')];_0x92ac86++){warehouseCapacity[_0x1002('0x15')](allWarehouses[_0x92ac86][_0x1002('0x40')][_0x1002('0x11')]);};for(var _0x92ac86=0x0;_0x92ac86<allVillages[_0x1002('0x4e')];_0x92ac86++){for(var _0x525f86=0x1;_0x525f86<allMerchants['length'];_0x525f86++){availableMerchants[_0x1002('0x15')](allMerchants[_0x525f86]['innerText']);}totalMerchants[_0x1002('0x15')](_0x1002('0x96'));};for(var _0x92ac86=0x0;_0x92ac86<allVillages[_0x1002('0x4e')];_0x92ac86++){farmSpaceUsed[_0x1002('0x15')](allFarms[_0x92ac86][_0x1002('0x40')]['innerText'][_0x1002('0x0')](/(\d*)\/(\d*)/)[0x1]);farmSpaceTotal[_0x1002('0x15')](allFarms[_0x92ac86][_0x1002('0x40')][_0x1002('0x11')]['match'](/(\d*)\/(\d*)/)[0x2]);};for(var _0x92ac86=0x0;_0x92ac86<allVillages[_0x1002('0x4e')];_0x92ac86++){console['log'](_0x92ac86*0x2+0x1);villagePoints[_0x1002('0x15')](productionTable[_0x92ac86*0x2+0x1][_0x1002('0x11')][_0x1002('0x6c')](/\./g,'')[_0x1002('0x6c')](',',''));}}else{console['log'](_0x1002('0x2c'));allWoodObjects=$(_0x5865fb)[_0x1002('0x61')](_0x1002('0x41'));allClayObjects=$(_0x5865fb)[_0x1002('0x61')](_0x1002('0xb9'));allIronObjects=$(_0x5865fb)[_0x1002('0x61')](_0x1002('0x39'));allVillages=$(_0x5865fb)[_0x1002('0x61')](_0x1002('0x2d'));for(var _0x92ac86=0x0;_0x92ac86<allWoodObjects[_0x1002('0x4e')];_0x92ac86++){n=allWoodObjects[_0x92ac86]['textContent'];n=n['replace'](/\./g,'')[_0x1002('0x6c')](',','');allWoodTotals[_0x1002('0x15')](n);};for(var _0x92ac86=0x0;_0x92ac86<allClayObjects['length'];_0x92ac86++){n=allClayObjects[_0x92ac86]['textContent'];n=n[_0x1002('0x6c')](/\./g,'')[_0x1002('0x6c')](',','');allClayTotals[_0x1002('0x15')](n);};for(var _0x92ac86=0x0;_0x92ac86<allIronObjects[_0x1002('0x4e')];_0x92ac86++){n=allIronObjects[_0x92ac86][_0x1002('0x81')];n=n[_0x1002('0x6c')](/\./g,'')['replace'](',','');allIronTotals['push'](n);};for(var _0x92ac86=0x0;_0x92ac86<allVillages[_0x1002('0x4e')];_0x92ac86++){warehouseCapacity[_0x1002('0x15')](allIronObjects[_0x92ac86][_0x1002('0x40')][_0x1002('0x7c')][_0x1002('0x3b')]);};for(var _0x92ac86=0x0;_0x92ac86<allVillages['length'];_0x92ac86++){availableMerchants['push'](allIronObjects[_0x92ac86][_0x1002('0x40')][_0x1002('0x7c')][_0x1002('0x7c')][_0x1002('0x11')]['match'](/(\d*)\/(\d*)/)[0x1]);totalMerchants[_0x1002('0x15')](allIronObjects[_0x92ac86]['parentElement'][_0x1002('0x7c')]['nextElementSibling'][_0x1002('0x11')][_0x1002('0x0')](/(\d*)\/(\d*)/)[0x2]);};for(var _0x92ac86=0x0;_0x92ac86<allVillages['length'];_0x92ac86++){farmSpaceUsed[_0x1002('0x15')](allIronObjects[_0x92ac86][_0x1002('0x40')][_0x1002('0x7c')][_0x1002('0x7c')][_0x1002('0x7c')][_0x1002('0x11')][_0x1002('0x0')](/(\d*)\/(\d*)/)[0x1]);farmSpaceTotal[_0x1002('0x15')](allIronObjects[_0x92ac86][_0x1002('0x40')]['nextElementSibling'][_0x1002('0x7c')]['nextElementSibling'][_0x1002('0x11')]['match'](/(\d*)\/(\d*)/)[0x2]);};for(var _0x92ac86=0x0;_0x92ac86<allVillages[_0x1002('0x4e')];_0x92ac86++){villagePoints[_0x1002('0x15')](allWoodObjects[_0x92ac86][_0x1002('0x40')][_0x1002('0xa1')][_0x1002('0x11')][_0x1002('0x6c')](/\./g,'')['replace'](',',''));}}for(var _0x92ac86=0x0;_0x92ac86<allVillages['length'];_0x92ac86++){villagesData[_0x1002('0x15')]({'id':allVillages[_0x92ac86]['dataset']['id'],'points':villagePoints[_0x92ac86],'url':allVillages[_0x92ac86]['children'][0x0][_0x1002('0x7e')][0x0][_0x1002('0x8f')],'name':allVillages[_0x92ac86][_0x1002('0x11')][_0x1002('0x51')](),'wood':allWoodTotals[_0x92ac86],'stone':allClayTotals[_0x92ac86],'iron':allIronTotals[_0x92ac86],'availableMerchants':availableMerchants[_0x92ac86],'totalMerchants':totalMerchants[_0x92ac86],'warehouseCapacity':warehouseCapacity[_0x92ac86],'farmSpaceUsed':farmSpaceUsed[_0x92ac86],'farmSpaceTotal':farmSpaceTotal[_0x92ac86]});};villagesData[_0x1002('0x86')]((_0x2856c8,_0xb754dd)=>parseInt(_0x2856c8[_0x1002('0x99')])<parseInt(_0xb754dd[_0x1002('0x99')])?0x1:-0x1);totalWood=0x0;totalStone=0x0;totalIron=0x0;for(var _0x92ac86 in allWoodTotals){totalWood+=parseInt(allWoodTotals[_0x92ac86]);}for(var _0x92ac86 in allClayTotals){totalStone+=parseInt(allClayTotals[_0x92ac86]);}for(var _0x92ac86 in allIronTotals){totalIron+=parseInt(allIronTotals[_0x92ac86]);}for(var _0x182a7b=0x0;_0x182a7b<Object[_0x1002('0x83')](incomingRes)[_0x1002('0x4e')];_0x182a7b++){totalWood+=incomingRes[Object['keys'](incomingRes)[_0x182a7b]][_0x1002('0x7a')];totalStone+=incomingRes[Object['keys'](incomingRes)[_0x182a7b]][_0x1002('0x43')];totalIron+=incomingRes[Object[_0x1002('0x83')](incomingRes)[_0x182a7b]][_0x1002('0x1a')];}woodAverage=Math[_0x1002('0x6e')](totalWood/warehouseCapacity[_0x1002('0x4e')]);stoneAverage=Math[_0x1002('0x6e')](totalStone/warehouseCapacity[_0x1002('0x4e')]);ironAverage=Math[_0x1002('0x6e')](totalIron/warehouseCapacity[_0x1002('0x4e')]);totalsAndAverages=_0x1002('0xa3')+langShinko[0x9]+':\x20'+totalWood+_0x1002('0x58')+langShinko[0xa]+':\x20'+totalStone+_0x1002('0x58')+langShinko[0xb]+':\x20'+totalIron+_0x1002('0x76')+langShinko[0xc]+':\x20'+woodAverage+_0x1002('0x58')+langShinko[0xd]+':\x20'+stoneAverage+_0x1002('0x58')+langShinko[0xe]+':\x20'+ironAverage+_0x1002('0x2a');$(_0x1002('0x84'))['eq'](0x0)[_0x1002('0xb0')](_0x1002('0x4f'));$(_0x1002('0x80'))['eq'](0x0)[_0x1002('0xb0')](_0x1002('0x4f'));for(var _0x665e8d=0x0;_0x665e8d<villagesData[_0x1002('0x4e')];_0x665e8d++){console[_0x1002('0x69')]('-----------------------------------------------------------------------------------------');excessResources[_0x665e8d]=[];shortageResources[_0x665e8d]=[];villageID[_0x1002('0x15')](villagesData[_0x665e8d]['id']);if(typeof incomingRes[villagesData[_0x665e8d]['id']]==_0x1002('0x6a')){incomingWood=0x0;incomingStone=0x0;incomingIron=0x0;}else{incomingWood=incomingRes[villagesData[_0x665e8d]['id']][_0x1002('0x7a')];incomingStone=incomingRes[villagesData[_0x665e8d]['id']][_0x1002('0x43')];incomingIron=incomingRes[villagesData[_0x665e8d]['id']][_0x1002('0x1a')];}console[_0x1002('0x69')](_0x1002('0x1e')+incomingWood+_0x1002('0x54')+incomingStone+_0x1002('0xa5')+incomingIron);if(woodAverage<villagesData[_0x665e8d]['warehouseCapacity']*settings[_0x1002('0xa8')]){tempWood=parseInt(villagesData[_0x665e8d]['wood'])+incomingWood-woodAverage;}else{console[_0x1002('0x69')](_0x1002('0x1b'));tempWood=-Math['round'](villagesData[_0x665e8d]['warehouseCapacity']*settings[_0x1002('0xa8')]-incomingWood-parseInt(villagesData[_0x665e8d][_0x1002('0x7a')]));}if(stoneAverage<villagesData[_0x665e8d][_0x1002('0x98')]*settings[_0x1002('0xa8')]){tempStone=parseInt(villagesData[_0x665e8d][_0x1002('0x43')])+incomingStone-stoneAverage;}else{console[_0x1002('0x69')](_0x1002('0x1b'));tempStone=-Math[_0x1002('0x2e')](villagesData[_0x665e8d][_0x1002('0x98')]*settings[_0x1002('0xa8')]-incomingStone-parseInt(villagesData[_0x665e8d]['stone']));}if(ironAverage<villagesData[_0x665e8d][_0x1002('0x98')]*settings['needsMorePercentage']){tempIron=parseInt(villagesData[_0x665e8d][_0x1002('0x1a')])+incomingIron-ironAverage;}else{console['log']('Average\x20is\x20higher\x20than\x20capacity,\x20reduce');tempIron=-Math[_0x1002('0x2e')](villagesData[_0x665e8d][_0x1002('0x98')]*settings[_0x1002('0xa8')]-incomingIron-parseInt(villagesData[_0x665e8d][_0x1002('0x1a')]));}console[_0x1002('0x69')](tempWood);console[_0x1002('0x69')](tempStone);console[_0x1002('0x69')](tempIron);if(villagesData[_0x665e8d][_0x1002('0x7f')]>settings[_0x1002('0x93')]){console[_0x1002('0x69')](_0x1002('0x1c')+villagesData[_0x665e8d][_0x1002('0x7f')]+'/'+villagesData[_0x665e8d]['farmSpaceTotal']+_0x1002('0x44')+villagesData[_0x665e8d][_0x1002('0x67')]+_0x1002('0xd')+0x64*settings[_0x1002('0x4c')]+'%');if(parseInt(villagesData[_0x665e8d][_0x1002('0x7a')])+incomingWood>settings[_0x1002('0x4c')]*villagesData[_0x665e8d]['warehouseCapacity']){tempWood=Math[_0x1002('0x2e')](parseInt(villagesData[_0x665e8d]['wood'])+incomingWood-settings[_0x1002('0x4c')]*villagesData[_0x665e8d][_0x1002('0x98')]);}if(parseInt(villagesData[_0x665e8d][_0x1002('0x43')])+incomingStone>settings[_0x1002('0x4c')]*villagesData[_0x665e8d]['warehouseCapacity']){tempStone=Math[_0x1002('0x2e')](parseInt(villagesData[_0x665e8d]['stone'])+incomingStone-settings['builtOutPercentage']*villagesData[_0x665e8d][_0x1002('0x98')]);}if(parseInt(villagesData[_0x665e8d][_0x1002('0x1a')])+incomingIron>settings['builtOutPercentage']*villagesData[_0x665e8d]['warehouseCapacity']){tempIron=Math[_0x1002('0x2e')](parseInt(villagesData[_0x665e8d][_0x1002('0x1a')])+incomingIron-settings[_0x1002('0x4c')]*villagesData[_0x665e8d][_0x1002('0x98')]);}}if(villagesData[_0x665e8d][_0x1002('0x99')]<settings[_0x1002('0xa9')]){console[_0x1002('0x69')](villagesData[_0x665e8d][_0x1002('0x67')]+'\x20('+villagesData[_0x665e8d]['points']+')'+'\x20needs\x20help\x20growing,\x20setting\x20required\x20resources\x20to\x20'+settings[_0x1002('0xa8')]*0x64+_0x1002('0x85'));tempWood=-Math[_0x1002('0x2e')](villagesData[_0x665e8d][_0x1002('0x98')]*settings[_0x1002('0xa8')]-parseInt(villagesData[_0x665e8d][_0x1002('0x7a')])-incomingWood);tempStone=-Math[_0x1002('0x2e')](villagesData[_0x665e8d][_0x1002('0x98')]*settings[_0x1002('0xa8')]-parseInt(villagesData[_0x665e8d][_0x1002('0x43')])-incomingStone);tempIron=-Math[_0x1002('0x2e')](villagesData[_0x665e8d][_0x1002('0x98')]*settings[_0x1002('0xa8')]-parseInt(villagesData[_0x665e8d][_0x1002('0x1a')])-incomingIron);}if(incomingWood+parseInt(villagesData[_0x665e8d][_0x1002('0x7a')])>villagesData[_0x665e8d][_0x1002('0x98')]){console['log'](_0x1002('0x66')+villagesData[_0x665e8d][_0x1002('0x67')]);tempWood=-Math[_0x1002('0x2e')](villagesData[_0x665e8d][_0x1002('0x98')]*settings[_0x1002('0xa8')]-incomingWood-parseInt(villagesData[_0x665e8d][_0x1002('0x7a')]));}if(incomingStone+parseInt(villagesData[_0x665e8d][_0x1002('0x43')])>villagesData[_0x665e8d][_0x1002('0x98')]){console[_0x1002('0x69')](_0x1002('0x9a')+villagesData[_0x665e8d][_0x1002('0x67')]);tempStone=-Math[_0x1002('0x2e')](villagesData[_0x665e8d]['warehouseCapacity']*settings[_0x1002('0xa8')]-incomingStone-parseInt(villagesData[_0x665e8d][_0x1002('0x43')]));}if(incomingIron+parseInt(villagesData[_0x665e8d][_0x1002('0x1a')])>villagesData[_0x665e8d][_0x1002('0x98')]){console['log']('Too\x20much\x20iron\x20incoming\x20in\x20'+villagesData[_0x665e8d][_0x1002('0x67')]);tempIron=-Math['round'](villagesData[_0x665e8d][_0x1002('0x98')]*settings[_0x1002('0xa8')]-incomingIron-parseInt(villagesData[_0x665e8d]['iron']));}if(tempWood>0x0&&tempWood>parseInt(villagesData[_0x665e8d][_0x1002('0x7a')])){console['log'](_0x1002('0x82'));tempWood=parseInt(villagesData[_0x665e8d][_0x1002('0x7a')]);}if(tempStone>0x0&&tempStone>parseInt(villagesData[_0x665e8d][_0x1002('0x43')])){console[_0x1002('0x69')](_0x1002('0x82'));tempStone=parseInt(villagesData[_0x665e8d][_0x1002('0x43')]);}if(tempIron>0x0&&tempIron>parseInt(villagesData[_0x665e8d][_0x1002('0x1a')])){console['log'](_0x1002('0x82'));tempIron=parseInt(villagesData[_0x665e8d][_0x1002('0x1a')]);}console[_0x1002('0x69')](_0x1002('0x5b')+villagesData[_0x665e8d][_0x1002('0x67')]+'\x0a'+_0x1002('0x4a')+villagesData[_0x665e8d][_0x1002('0x98')]*settings[_0x1002('0xa8')]+'\x0a'+_0x1002('0x88')+villagesData[_0x665e8d][_0x1002('0x98')]+'\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Wood:\x20'+parseInt(villagesData[_0x665e8d][_0x1002('0x7a')])+'\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Clay:\x20'+parseInt(villagesData[_0x665e8d][_0x1002('0x43')])+'\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Iron:\x20'+parseInt(villagesData[_0x665e8d][_0x1002('0x1a')]));console['log'](_0x1002('0x2f')+tempWood+_0x1002('0x62')+tempStone+_0x1002('0x32')+tempIron);if(tempWood>0x0){excessResources[_0x665e8d]['push']({'wood':Math[_0x1002('0x6e')](tempWood/0x3e8)*0x3e8});shortageResources[_0x665e8d][_0x1002('0x15')]({'wood':0x0});}else{shortageResources[_0x665e8d][_0x1002('0x15')]({'wood':Math[_0x1002('0x6e')](-tempWood/0x3e8)*0x3e8});excessResources[_0x665e8d][_0x1002('0x15')]({'wood':0x0});}if(tempStone>0x0){excessResources[_0x665e8d]['push']({'stone':Math['floor'](tempStone/0x3e8)*0x3e8});shortageResources[_0x665e8d][_0x1002('0x15')]({'stone':0x0});}else{shortageResources[_0x665e8d][_0x1002('0x15')]({'stone':Math[_0x1002('0x6e')](-tempStone/0x3e8)*0x3e8});excessResources[_0x665e8d][_0x1002('0x15')]({'stone':0x0});}if(tempIron>0x0){excessResources[_0x665e8d][_0x1002('0x15')]({'iron':Math[_0x1002('0x6e')](tempIron/0x3e8)*0x3e8});shortageResources[_0x665e8d][_0x1002('0x15')]({'iron':0x0});}else{shortageResources[_0x665e8d][_0x1002('0x15')]({'iron':Math['floor'](-tempIron/0x3e8)*0x3e8});excessResources[_0x665e8d][_0x1002('0x15')]({'iron':0x0});}}for(var _0x1e706a=0x0;_0x1e706a<excessResources['length'];_0x1e706a++){tempAllExcessCombined=parseInt(Math[_0x1002('0x6e')](excessResources[_0x1e706a][0x0][_0x1002('0x7a')]/0x3e8)*0x3e8)+parseInt(Math[_0x1002('0x6e')](excessResources[_0x1e706a][0x1][_0x1002('0x43')]/0x3e8)*0x3e8)+parseInt(Math[_0x1002('0x6e')](excessResources[_0x1e706a][0x2][_0x1002('0x1a')]/0x3e8)*0x3e8);if(tempAllExcessCombined>0x0){tempMaxMerchantsNeeded=Math[_0x1002('0x6e')](tempAllExcessCombined/0x3e8);if(tempMaxMerchantsNeeded<villagesData[_0x1e706a]['availableMerchants']){merchantOrders[_0x1002('0x15')]({'villageID':villagesData[_0x1e706a]['id'],'x':villagesData[_0x1e706a][_0x1002('0x67')][_0x1002('0x0')](/(\d+)\|(\d+)/)[0x1],'y':villagesData[_0x1e706a][_0x1002('0x67')]['match'](/(\d+)\|(\d+)/)[0x2],'wood':Math[_0x1002('0x6e')](excessResources[_0x1e706a][0x0][_0x1002('0x7a')]/0x3e8),'stone':Math[_0x1002('0x6e')](excessResources[_0x1e706a][0x1][_0x1002('0x43')]/0x3e8),'iron':Math[_0x1002('0x6e')](excessResources[_0x1e706a][0x2][_0x1002('0x1a')]/0x3e8)});}else{tempPercWood=excessResources[_0x1e706a][0x0][_0x1002('0x7a')]/tempAllExcessCombined;tempPercStone=excessResources[_0x1e706a][0x1][_0x1002('0x43')]/tempAllExcessCombined;tempPercIron=excessResources[_0x1e706a][0x2][_0x1002('0x1a')]/tempAllExcessCombined;merchantOrders[_0x1002('0x15')]({'villageID':villagesData[_0x1e706a]['id'],'x':villagesData[_0x1e706a][_0x1002('0x67')]['match'](/(\d+)\|(\d+)/)[0x1],'y':villagesData[_0x1e706a][_0x1002('0x67')][_0x1002('0x0')](/(\d+)\|(\d+)/)[0x2],'wood':Math[_0x1002('0x6e')](tempPercWood*villagesData[_0x1e706a][_0x1002('0x48')]),'stone':Math[_0x1002('0x6e')](tempPercStone*villagesData[_0x1e706a][_0x1002('0x48')]),'iron':Math[_0x1002('0x6e')](tempPercIron*villagesData[_0x1e706a]['availableMerchants'])});}}}for(var _0x17286c=shortageResources['length']-0x1;_0x17286c>=0x0;_0x17286c--){$('#progress')[_0x1002('0x20')]('width',(shortageResources[_0x1002('0x4e')]-_0x17286c)/shortageResources[_0x1002('0x4e')]*0x64+'%');for(var _0x16e0f4=0x0;_0x16e0f4<merchantOrders['length'];_0x16e0f4++){merchantOrders[_0x16e0f4][_0x1002('0xaa')]=checkDistance(merchantOrders[_0x16e0f4]['x'],merchantOrders[_0x16e0f4]['y'],villagesData[_0x17286c][_0x1002('0x67')][_0x1002('0x0')](/(\d+)\|(\d+)/)[0x1],villagesData[_0x17286c][_0x1002('0x67')][_0x1002('0x0')](/(\d+)\|(\d+)/)[0x2]);}merchantOrders[_0x1002('0x86')](function(_0x390b58,_0x28df2){return _0x390b58['distance']-_0x28df2['distance'];});if(shortageResources[_0x17286c][0x0][_0x1002('0x7a')]<=0x0){}else{while(shortageResources[_0x17286c][0x0][_0x1002('0x7a')]>0x0){var _0x1f6847=0x0;for(var _0x1b7040=0x0;_0x1b7040<merchantOrders[_0x1002('0x4e')];_0x1b7040++){_0x1f6847+=merchantOrders[_0x1b7040][_0x1002('0x7a')];if(merchantOrders[_0x1b7040][_0x1002('0x7a')]>0x0){if(shortageResources[_0x17286c][0x0]['wood']<=merchantOrders[_0x1b7040][_0x1002('0x7a')]*0x3e8){links['push']({'source':merchantOrders[_0x1b7040][_0x1002('0x5e')],'target':villageID[_0x17286c],'wood':shortageResources[_0x17286c][0x0][_0x1002('0x7a')]});merchantOrders[_0x1b7040][_0x1002('0x7a')]-=shortageResources[_0x17286c][0x0][_0x1002('0x7a')]/0x3e8;shortageResources[_0x17286c][0x0][_0x1002('0x7a')]=0x0;}if(shortageResources[_0x17286c][0x0]['wood']>merchantOrders[_0x1b7040][_0x1002('0x7a')]*0x3e8){links[_0x1002('0x15')]({'source':merchantOrders[_0x1b7040][_0x1002('0x5e')],'target':villageID[_0x17286c],'wood':merchantOrders[_0x1b7040][_0x1002('0x7a')]*0x3e8});shortageResources[_0x17286c][0x0][_0x1002('0x7a')]-=merchantOrders[_0x1b7040][_0x1002('0x7a')]*0x3e8;merchantOrders[_0x1b7040][_0x1002('0x7a')]=0x0;}}if(shortageResources[_0x17286c][0x0][_0x1002('0x7a')]<=0x0){break;}if(_0x1b7040==merchantOrders[_0x1002('0x4e')]-0x1&&shortageResources[_0x17286c][0x0][_0x1002('0x7a')]>0x0){console[_0x1002('0x69')](_0x1002('0x64'));_0x1f6847=0x0;break;}}if(_0x1f6847==0x0){_0x17286c=0x0;break;}}}}for(var _0x17286c=shortageResources[_0x1002('0x4e')]-0x1;_0x17286c>=0x0;_0x17286c--){$(_0x1002('0x7d'))[_0x1002('0x20')](_0x1002('0x3f'),(shortageResources[_0x1002('0x4e')]-_0x17286c)/shortageResources[_0x1002('0x4e')]*0x64+'%');for(var _0x16e0f4=0x0;_0x16e0f4<merchantOrders['length'];_0x16e0f4++){merchantOrders[_0x16e0f4][_0x1002('0xaa')]=checkDistance(merchantOrders[_0x16e0f4]['x'],merchantOrders[_0x16e0f4]['y'],villagesData[_0x17286c]['name'][_0x1002('0x0')](/(\d+)\|(\d+)/)[0x1],villagesData[_0x17286c][_0x1002('0x67')]['match'](/(\d+)\|(\d+)/)[0x2]);}merchantOrders[_0x1002('0x86')](function(_0x225cb2,_0x24f951){return _0x225cb2[_0x1002('0xaa')]-_0x24f951[_0x1002('0xaa')];});if(shortageResources[_0x17286c][0x1][_0x1002('0x43')]<=0x0){}else{while(shortageResources[_0x17286c][0x1][_0x1002('0x43')]>0x0){console[_0x1002('0x69')](_0x17286c);var _0x27b0b6=0x0;for(var _0x1b7040=0x0;_0x1b7040<merchantOrders[_0x1002('0x4e')];_0x1b7040++){_0x27b0b6+=merchantOrders[_0x1b7040][_0x1002('0x43')];if(merchantOrders[_0x1b7040][_0x1002('0x43')]>0x0){if(shortageResources[_0x17286c][0x1][_0x1002('0x43')]<=merchantOrders[_0x1b7040][_0x1002('0x43')]*0x3e8){links[_0x1002('0x15')]({'source':merchantOrders[_0x1b7040]['villageID'],'target':villageID[_0x17286c],'stone':shortageResources[_0x17286c][0x1][_0x1002('0x43')]});merchantOrders[_0x1b7040][_0x1002('0x43')]-=shortageResources[_0x17286c][0x1]['stone']/0x3e8;shortageResources[_0x17286c][0x1][_0x1002('0x43')]=0x0;}if(shortageResources[_0x17286c][0x1][_0x1002('0x43')]>merchantOrders[_0x1b7040][_0x1002('0x43')]*0x3e8){links[_0x1002('0x15')]({'source':merchantOrders[_0x1b7040][_0x1002('0x5e')],'target':villageID[_0x17286c],'stone':merchantOrders[_0x1b7040][_0x1002('0x43')]*0x3e8});shortageResources[_0x17286c][0x1][_0x1002('0x43')]-=merchantOrders[_0x1b7040][_0x1002('0x43')]*0x3e8;merchantOrders[_0x1b7040][_0x1002('0x43')]=0x0;}}if(shortageResources[_0x17286c][0x1][_0x1002('0x43')]<=0x0){break;}if(_0x1b7040==merchantOrders[_0x1002('0x4e')]-0x1&&shortageResources[_0x17286c][0x1][_0x1002('0x43')]>0x0){console[_0x1002('0x69')](_0x1002('0x64'));_0x27b0b6=0x0;break;}}if(_0x27b0b6==0x0){_0x17286c=0x0;break;}}}}for(var _0x17286c=shortageResources[_0x1002('0x4e')]-0x1;_0x17286c>=0x0;_0x17286c--){$(_0x1002('0x7d'))[_0x1002('0x20')](_0x1002('0x3f'),(shortageResources[_0x1002('0x4e')]-_0x17286c)/shortageResources[_0x1002('0x4e')]*0x64+'%');for(var _0x16e0f4=0x0;_0x16e0f4<merchantOrders[_0x1002('0x4e')];_0x16e0f4++){merchantOrders[_0x16e0f4][_0x1002('0xaa')]=checkDistance(merchantOrders[_0x16e0f4]['x'],merchantOrders[_0x16e0f4]['y'],villagesData[_0x17286c]['name'][_0x1002('0x0')](/(\d+)\|(\d+)/)[0x1],villagesData[_0x17286c][_0x1002('0x67')]['match'](/(\d+)\|(\d+)/)[0x2]);}merchantOrders[_0x1002('0x86')](function(_0x36f0f6,_0x43c5bf){return _0x36f0f6[_0x1002('0xaa')]-_0x43c5bf[_0x1002('0xaa')];});if(shortageResources[_0x17286c][0x2][_0x1002('0x1a')]<=0x0){}else{while(shortageResources[_0x17286c][0x2][_0x1002('0x1a')]>0x0){var _0x258866=0x0;for(var _0x1b7040=0x0;_0x1b7040<merchantOrders[_0x1002('0x4e')];_0x1b7040++){_0x258866+=merchantOrders[_0x1b7040][_0x1002('0x1a')];if(merchantOrders[_0x1b7040][_0x1002('0x1a')]>0x0){if(shortageResources[_0x17286c][0x2][_0x1002('0x1a')]<=merchantOrders[_0x1b7040][_0x1002('0x1a')]*0x3e8){links[_0x1002('0x15')]({'source':merchantOrders[_0x1b7040][_0x1002('0x5e')],'target':villageID[_0x17286c],'iron':shortageResources[_0x17286c][0x2][_0x1002('0x1a')]});merchantOrders[_0x1b7040][_0x1002('0x1a')]-=shortageResources[_0x17286c][0x2][_0x1002('0x1a')]/0x3e8;shortageResources[_0x17286c][0x2]['iron']=0x0;}if(shortageResources[_0x17286c][0x2][_0x1002('0x1a')]>merchantOrders[_0x1b7040][_0x1002('0x1a')]*0x3e8){links[_0x1002('0x15')]({'source':merchantOrders[_0x1b7040][_0x1002('0x5e')],'target':villageID[_0x17286c],'iron':merchantOrders[_0x1b7040][_0x1002('0x1a')]*0x3e8});shortageResources[_0x17286c][0x2][_0x1002('0x1a')]-=merchantOrders[_0x1b7040]['iron']*0x3e8;merchantOrders[_0x1b7040]['iron']=0x0;}}if(shortageResources[_0x17286c][0x2]['iron']<=0x0){break;}if(_0x1b7040==merchantOrders[_0x1002('0x4e')]-0x1&&shortageResources[_0x17286c][0x2]['iron']>0x0){console[_0x1002('0x69')]('Done\x20with\x20this\x20cycle');totalIronToTrade=0x0;break;}}if(_0x258866==0x0){_0x17286c=0x0;break;}}}}$(_0x1002('0x7d'))[_0x1002('0x9c')]();htmlCode='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sendResources\x22\x20border=0>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20id=\x22tableSend\x22\x20width=\x22100%\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody\x20id=\x22appendHere\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22sophHeader\x22\x20colspan=7\x20width=“550”\x20style=\x22text-align:center\x22\x20>'+langShinko[0x0]+_0x1002('0xa4')+langShinko[0x1]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22sophHeader\x22\x20width=\x2225%\x22\x20style=\x22text-align:center\x22>'+langShinko[0x2]+_0x1002('0x8e')+langShinko[0x3]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22sophHeader\x22\x20width=\x2210%\x22\x20style=\x22text-align:center\x22>'+langShinko[0x4]+_0x1002('0xb1')+langShinko[0x5]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22sophHeader\x22\x20width=\x2210%\x22\x20style=\x22text-align:center\x22>'+langShinko[0x6]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22sophHeader\x22\x20width=\x2210%\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<font\x20size=\x221\x22>'+langShinko[0x8]+_0x1002('0x5a')+totalsAndAverages+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';$('#mobileHeader')['eq'](0x0)[_0x1002('0xa7')](htmlCode);$(_0x1002('0x84'))['eq'](0x0)[_0x1002('0xb0')](htmlCode);createList();})[_0x1002('0x94')](function(){console[_0x1002('0x69')](_0x1002('0x59'));})['always'](function(){console['log']('finished');});});function createList(){console[_0x1002('0x69')](_0x1002('0x6d'));for(var _0xf6693e=0x0;_0xf6693e<links[_0x1002('0x4e')];_0xf6693e++){if(links[_0xf6693e][_0x1002('0x7a')]==undefined)links[_0xf6693e]['wood']=0x0;if(links[_0xf6693e][_0x1002('0x43')]==undefined)links[_0xf6693e]['stone']=0x0;if(links[_0xf6693e][_0x1002('0x1a')]==undefined)links[_0xf6693e][_0x1002('0x1a')]=0x0;}console[_0x1002('0x69')](_0x1002('0x78'));for(var _0xf6693e=0x0;_0xf6693e<links[_0x1002('0x4e')];_0xf6693e++){for(var _0x224c41=0x0;_0x224c41<links['length'];_0x224c41++){if(links[_0xf6693e][_0x1002('0xa6')]==links[_0x224c41]['source']&&links[_0xf6693e]['target']==links[_0x224c41][_0x1002('0xa2')]&&_0xf6693e!=_0x224c41){links[_0xf6693e][_0x1002('0x7a')]+=parseInt(links[_0x224c41]['wood']);links[_0x224c41][_0x1002('0x7a')]=0x0;links[_0xf6693e]['stone']+=parseInt(links[_0x224c41][_0x1002('0x43')]);links[_0x224c41][_0x1002('0x43')]=0x0;links[_0xf6693e][_0x1002('0x1a')]+=parseInt(links[_0x224c41]['iron']);links[_0x224c41]['iron']=0x0;}}}console[_0x1002('0x69')]('combined\x20the\x20sendings');for(var _0xf6693e=0x0;_0xf6693e<links[_0x1002('0x4e')];_0xf6693e++){if(links[_0xf6693e][_0x1002('0x7a')]+links[_0xf6693e][_0x1002('0x43')]+links[_0xf6693e][_0x1002('0x1a')]==0x0){delete links[_0xf6693e];}}console[_0x1002('0x69')](_0x1002('0x60'));for(var _0xf6693e=0x0;_0xf6693e<Object[_0x1002('0x83')](links)['length'];_0xf6693e++){cleanLinks[_0x1002('0x15')](links[Object['keys'](links)[_0xf6693e]]);}console['log']('pushed\x20to\x20clean\x20array');cleanLinks=addDistanceToArray(cleanLinks);listHTML='';cleanLinks[_0x1002('0x86')](function(_0x1a535f,_0x1d385a){return _0x1a535f['distance']-_0x1d385a['distance'];});for(var _0xf6693e=0x0;_0xf6693e<cleanLinks[_0x1002('0x4e')];_0xf6693e++){console[_0x1002('0x69')](_0x1002('0x87')+_0xf6693e+_0x1002('0x95'));if(_0xf6693e%0x2==0x0){tempRow=_0x1002('0x18')+_0xf6693e+_0x1002('0x9d');}else{tempRow=_0x1002('0x18')+_0xf6693e+_0x1002('0x8');}for(property in villagesData){if(villagesData[property]['id']==cleanLinks[_0xf6693e][_0x1002('0xa6')]){sourceName=villagesData[property][_0x1002('0x67')];sourceURL=villagesData[property]['url'];}}for(property in villagesData){if(villagesData[property]['id']==cleanLinks[_0xf6693e][_0x1002('0xa2')]){targetName=villagesData[property][_0x1002('0x67')];targetURL=villagesData[property][_0x1002('0x57')];targetWood=villagesData[property][_0x1002('0x7a')];targetStone=villagesData[property][_0x1002('0x43')];targetIron=villagesData[property][_0x1002('0x1a')];targetCapacity=villagesData[property][_0x1002('0x98')];}}listHTML+=_0x1002('0x5d')+tempRow+_0x1002('0x56')+sourceURL+_0x1002('0x19')+sourceName+_0x1002('0x14')+targetURL+'\x22\x20style=\x22color:#40D0E0;\x22\x20data-toggle=\x22tooltip\x22\x20title=\x22Wood\x20in\x20WH:\x20'+targetWood+'\x20&#10;Clay\x20in\x20WH:\x20'+targetStone+_0x1002('0x34')+targetIron+_0x1002('0x30')+targetCapacity+'\x22>'+targetName+_0x1002('0x50')+cleanLinks[_0xf6693e]['distance']+_0x1002('0xac')+cleanLinks[_0xf6693e]['wood']+'<span\x20class=\x22icon\x20header\x20wood\x22>\x20</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20width=\x2250\x22\x20style=\x22text-align:center\x22>'+cleanLinks[_0xf6693e][_0x1002('0x43')]+_0x1002('0x1f')+cleanLinks[_0xf6693e]['iron']+_0x1002('0x3')+langShinko[0x7]+_0x1002('0xe')+cleanLinks[_0xf6693e][_0x1002('0xa6')]+','+cleanLinks[_0xf6693e]['target']+','+cleanLinks[_0xf6693e][_0x1002('0x7a')]+','+cleanLinks[_0xf6693e][_0x1002('0x43')]+','+cleanLinks[_0xf6693e][_0x1002('0x1a')]+','+_0xf6693e+_0x1002('0x97');}$(_0x1002('0x89'))['eq'](0x0)[_0x1002('0xa7')](listHTML);$(_0x1002('0x25'))[0x0][_0x1002('0x71')]();console['log'](_0x1002('0x91'));}function checkDistance(_0x58e36c,_0x494600,_0x8ad6c3,_0x1ef745){var _0x2809e9=_0x58e36c-_0x8ad6c3;var _0x4c2746=_0x494600-_0x1ef745;var _0x18acbd=Math[_0x1002('0x2e')](Math[_0x1002('0x24')](_0x2809e9,_0x4c2746));return _0x18acbd;}function addDistanceToArray(_0x4cee48){for(var _0xbda47b=0x0;_0xbda47b<_0x4cee48[_0x1002('0x4e')];_0xbda47b++){for(property in villagesData){if(villagesData[property]['id']==_0x4cee48[_0xbda47b][_0x1002('0xa6')]){sourceName=villagesData[property]['name'];sourceURL=villagesData[property][_0x1002('0x57')];}}for(property in villagesData){if(villagesData[property]['id']==_0x4cee48[_0xbda47b][_0x1002('0xa2')]){targetName=villagesData[property]['name'];targetURL=villagesData[property][_0x1002('0x57')];}}_0x4cee48[_0xbda47b][_0x1002('0xaa')]=checkDistance(sourceName[_0x1002('0x0')](/(\d+)\|(\d+)/)[0x1],sourceName[_0x1002('0x0')](/(\d+)\|(\d+)/)[0x2],targetName[_0x1002('0x0')](/(\d+)\|(\d+)/)[0x1],targetName['match'](/(\d+)\|(\d+)/)[0x2]);}return _0x4cee48;}

}
/*
     FILE ARCHIVED ON 01:18:16 Apr 20, 2020 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 21:37:48 Apr 16, 2021.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  exclusion.robots: 0.185
  load_resource: 983.361
  LoadShardBlock: 363.871 (3)
  PetaboxLoader3.datanode: 1150.906 (4)
  CDXLines.iter: 24.633 (3)
  exclusion.robots.policy: 0.156
  esindex: 0.011
  RedisCDXSource: 0.597
  captures_list: 392.366
  PetaboxLoader3.resolve: 58.269
*/
